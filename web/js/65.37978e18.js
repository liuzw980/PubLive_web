"use strict";(self["webpackChunkdome"]=self["webpackChunkdome"]||[]).push([[65],{5065:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-container",[s("el-header",[t._v(" Chat Currently logged in: "+t._s(t.msg_1)),s("span",{staticClass:"tuichu",on:{click:t.quit}},[t._v(" Quit")])]),s("el-container",[s("el-aside",{attrs:{width:"200px"}},["test001"!=t.msg_1?s("div",{staticClass:"test004",class:1==t.index?"sen":"",on:{click:function(e){return t.msgtoplioaotian(1)}}},[t._v(" test001 ")]):t._e(),"test002"!=t.msg_1?s("div",{staticClass:"test004",class:2==t.index?"sen":"",on:{click:function(e){return t.msgtoplioaotian(2)}}},[t._v(" test002 ")]):t._e(),"test003"!=t.msg_1?s("div",{staticClass:"test004",class:3==t.index?"sen":"",on:{click:function(e){return t.msgtoplioaotian(3)}}},[t._v(" test003 ")]):t._e(),"test004"!=t.msg_1?s("div",{staticClass:"test004",class:4==t.index?"sen":"",on:{click:function(e){return t.msgtoplioaotian(4)}}},[t._v(" test004 ")]):t._e()]),s("el-main",[s("div",{staticClass:"bgc"},[s("div",{staticClass:"boxmh"},t._l(t.charList,(function(e,a){return s("div",{key:a,staticClass:"bbx"},[t._v(" "+t._s(e.from)+":"+t._s(e.data)+" ")])})),0),s("div",{staticClass:"boxwarp"},[s("el-input",{staticClass:"oping",attrs:{rows:2,placeholder:"Please enter inside"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}}),s("el-button",{staticClass:"sendmsg",attrs:{type:"primary"},on:{click:function(e){return t.huoquliaotian()}}},[t._v("Send")])],1)])])],1)],1)],1)},i=[],n=s(2923),o=s.n(n),l=s(5861),r={name:"ShenwangHuanxinThereisaway",data(){return{charList:[],textarea:"",msg_1:localStorage.getItem("username"),index:"",typeuserid:""}},mounted(){this.sendmsg()},methods:{msgtoplioaotian(t){this.typeuserid=1==t?"test001":2==t?"test002":3==t?"test003":"test004",this.index=t},sendmsg(){l.Z.listen({onOpened:()=>{},onTextMessage:t=>{this.charList.push(t)}})},quit(){l.Z.close(),localStorage.removeItem("password"),localStorage.removeItem("username"),localStorage.removeItem("token"),this.$router.push("/home")},huoquliaotian(){""!=this.index?this.sendPrivateText():this.$message({message:"Please select who you want to chat with",type:"warning"})},sendPrivateText(){let t=this,e=l.Z.getUniqueId(),s=new(o().message)("txt",e);s.set({msg:this.textarea,to:this.typeuserid,chatType:"singleChat",success:function(e,s){t.$message("Send successfully"),t.charList.push({data:t.textarea,from:t.msg_1})},fail:function(t){}}),l.Z.send(s.body)}}},c=r,u=s(1001),d=(0,u.Z)(c,a,i,!1,null,"128acea9",null),m=d.exports}}]);